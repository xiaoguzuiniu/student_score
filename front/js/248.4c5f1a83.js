"use strict";(self["webpackChunkmy_database"]=self["webpackChunkmy_database"]||[]).push([[248],{1248:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var l=t(6768);function o(e,a,t,o,u,d){const s=(0,l.g2)("el-option"),p=(0,l.g2)("el-select"),c=(0,l.g2)("el-input"),n=(0,l.g2)("el-form-item"),r=(0,l.g2)("el-button"),i=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.Wv)(i,{"status-icon":"",ref:"ruleForm","label-width":"100px",class:"demo-ruleForm"},{default:(0,l.k6)((()=>[(0,l.bF)(n,{label:"账号",prop:"account"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{modelValue:u.accountType,"onUpdate:modelValue":a[0]||(a[0]=e=>u.accountType=e),placeholder:"请选择账号类型"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{label:"学生",value:"学生"}),(0,l.bF)(s,{label:"职工",value:"职工"}),(0,l.bF)(s,{label:"管理员",value:"管理员"})])),_:1},8,["modelValue"]),(0,l.bF)(c,{modelValue:u.account,"onUpdate:modelValue":a[1]||(a[1]=e=>u.account=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),(0,l.bF)(n,{label:"密码",prop:"pass"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{type:"password",autocomplete:"off",modelValue:u.pwd1,"onUpdate:modelValue":a[2]||(a[2]=e=>u.pwd1=e)},null,8,["modelValue"])])),_:1}),(0,l.bF)(n,{label:"确认密码",prop:"checkPass"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{type:"password",autocomplete:"off",modelValue:u.pwd2,"onUpdate:modelValue":a[3]||(a[3]=e=>u.pwd2=e)},null,8,["modelValue"])])),_:1}),(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.bF)(r,{type:"primary",onClick:d.updata},{default:(0,l.k6)((()=>[(0,l.eW)("提交")])),_:1},8,["onClick"]),(0,l.bF)(r,{onClick:d.clear},{default:(0,l.k6)((()=>[(0,l.eW)("重置")])),_:1},8,["onClick"])])),_:1})])),_:1},512)}t(4603),t(7566),t(8721);var u={data(){return{accountType:"",account:"",pwd1:"",pwd2:""}},methods:{clear(){this.accountType="",this.account="",this.pwd1="",this.pwd2=""},updata(){if(this.pwd1!==this.pwd2)return void alert("两次输入的密码不一致！");let e=new URLSearchParams;e.append("username",this.account),e.append("newcode",this.pwd2),e.append("type",this.accountType),this.$axios({method:"post",url:"http://127.0.0.1:8690/updatacodeadm",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"}}).then((e=>{console.log(e.data),"Password updated successfully"==e.data.message?(this.$message({type:"success",message:"修改成功!"}),this.pwd1="",this.pwd2="",this.account="",this.accountType=null):this.$message({type:"warning",message:"原始密码不正确"})})).catch((e=>{this.$message({type:"warning",message:"修改失败"}),console.error("请求失败:",e)}))}}},d=t(1241);const s=(0,d.A)(u,[["render",o]]);var p=s}}]);
//# sourceMappingURL=248.4c5f1a83.js.map