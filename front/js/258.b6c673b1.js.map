{"version":3,"file":"js/258.b6c673b1.js","mappings":"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","sources":["webpack://my_database/./src/views/Login.vue","webpack://my_database/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"background-animation\">\r\n      <div class=\"gradient-animation\"></div>\r\n    </div>\r\n    <div class=\"login-form\">\r\n      <h2>学生成绩管理系统</h2>\r\n      <form @submit.prevent=\"login\">\r\n        <div class=\"form-group\">\r\n          <select v-model=\"identity\" id=\"identity\" required>\r\n            <option value=\"\">选择身份</option>\r\n            <option v-for=\"option in identityOptions\" :value=\"option.value\">\r\n              {{ option.label }}\r\n            </option>\r\n          </select>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"username\">账号:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            v-model=\"username\"\r\n            required\r\n            autocomplete=\"username\"\r\n          />\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"password\">密码:</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            v-model=\"password\"\r\n            required\r\n            autocomplete=\"current-password\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" class=\"submit-btn\">登录</button>\r\n      </form>\r\n    </div>\r\n    <!-- 背景音乐 -->\r\n    <audio src=\"https://zj.v.api.aa1.cn/api/qqmusic/demo.php?type=3&mid=000puJkK2g6gPk&fid=000puJkK2g6gPk&t=3\" autoplay loop></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //身份变量\r\n      identity: '',\r\n      identityOptions: [\r\n        { value: '1', label: '学生' },\r\n        { value: '2', label: '老师' },\r\n        { value: '3', label: '管理员' },\r\n      ],\r\n      username: '',\r\n      password: '',\r\n    };\r\n  },\r\n  methods: {\r\n    login(){\r\n    let params = new URLSearchParams();  \r\n    params.append('id', this.identity);  \r\n    params.append('username', this.username);  \r\n    params.append('password', this.password);  \r\n    \r\n    this.$axios({  \r\n      method: \"post\",  \r\n      url: \"http://127.0.0.1:8687/login\",  \r\n      data: params,  \r\n      headers: {  \r\n        'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'  \r\n      }  \r\n    }).then((result)=>{\r\n        console.log(result.data);\r\n         this.$message({\r\n          type: 'success',\r\n          message: result.data.message\r\n        });\r\n        //将用户名存储到vuex中\r\n        this.$store.dispatch('login', this.username);\r\n        //页面跳转\r\n        if(this.identity=='1'){\r\n          this.$router.push('/student/info')\r\n        }\r\n        if(this.identity=='2'){\r\n          this.$router.push('/teacher/info')\r\n        }\r\n        if(this.identity=='3'){\r\n          this.$router.push('/admin/teacher')\r\n        } \r\n      })\r\n      .catch(error => {\r\n        this.$message({\r\n          type: 'warning',\r\n          message:'登录失败！'\r\n        });\r\n        \r\n    // 处理错误\r\n    if (error.response) {\r\n      // 服务器返回了响应，但状态码不是200\r\n      console.log(error.response.data);\r\n      console.log(error.response.status);\r\n      console.log(error.response.headers);\r\n    } else if (error.request) {\r\n      // 请求已经发送，但没有收到响应\r\n      console.log(error.request);\r\n    } else {\r\n      // 其他错误\r\n      console.log('Error', error.message);\r\n    }\r\n    console.log(error.config);\r\n  });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.background-animation {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: -1;\r\n}\r\n\r\n.gradient-animation {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(45deg, #9b59b6, #8e44ad, #2980b9, #2c3e50);\r\n  background-size: 400% 400%;\r\n  animation: gradientAnimation 10s ease infinite;\r\n}\r\n\r\n@keyframes gradientAnimation {\r\n  0% {\r\n    background-position: 0% 50%;\r\n  }\r\n  50% {\r\n    background-position: 100% 50%;\r\n  }\r\n  100% {\r\n    background-position: 0% 50%;\r\n  }\r\n}\r\n\r\n.login-form {\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  padding: 2rem;\r\n  border-radius: 10px;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n  width: 400px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\ninput,\r\nselect {\r\n  width: 90%;\r\n  padding: 0.75rem 1rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.submit-btn {\r\n  display: block;\r\n  width: 100%;\r\n  padding: 0.75rem 1rem;\r\n  background-color: #2980b9;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.submit-btn:hover {\r\n  background-color: #2c3e50;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=123f613f\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=123f613f&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","value","for","type","src","autoplay","loop","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","login","_hoisted_5","$event","$data","identity","id","required","_hoisted_6","_Fragment","_renderList","identityOptions","option","label","_hoisted_7","_hoisted_8","_hoisted_9","username","autocomplete","_hoisted_10","_hoisted_11","password","_hoisted_12","_hoisted_13","data","methods","params","URLSearchParams","append","this","$axios","method","url","headers","then","result","console","log","$message","message","$store","dispatch","$router","push","catch","error","response","status","request","config","__exports__","render"],"sourceRoot":""}